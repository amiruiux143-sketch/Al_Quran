<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Al-Qur'an Ultimate Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #ffffff; --header: #fbfbfb; --gold: #b2904f; --line: #f0f0f0; --text: #000; --fz-ar: 32px; }
        body.dark-mode { --bg: #121212; --header: #1e1e1e; --line: #333; --text: #eee; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { background: var(--bg); font-family: 'Montserrat', sans-serif; margin: 0; padding-bottom: 80px; color: var(--text); transition: 0.3s; overflow-x: hidden; }

        /* Splash Screen */
        #splash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #121212; z-index: 5000; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 1s; color: white; }
        .bism-text { font-family: 'Amiri', serif; font-size: 36px; color: var(--gold); text-shadow: 0 0 15px rgba(178,144,79,0.5); }

        /* Header */
        .main-header { position: sticky; top: 0; z-index: 1000; background: var(--header); padding: 15px; border-bottom: 1px solid var(--line); }
        .main-header h1 { font-size: 22px; margin: 0; font-weight: 700; color: var(--gold); }
        #surahSearch { width: 100%; padding: 12px; border-radius: 12px; border: none; background: #f0f0f0; margin-top: 10px; font-size: 14px; }
        body.dark-mode #surahSearch { background: #333; color: #fff; }

        /* Pages */
        .page-sec { display: none; padding: 10px; animation: fadeIn 0.4s; }
        .page-sec.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* –°–ø–∏—Å–∫–∏ */
        .item { display: flex; align-items: center; padding: 18px 10px; border-bottom: 1px solid var(--line); cursor: pointer; transition: 0.2s; }
        .item:active { background: rgba(178,144,79,0.1); }
        .num { color: var(--gold); font-size: 14px; width: 40px; font-weight: bold; }
        .ar-name { font-size: 24px; color: var(--gold); font-family: 'Amiri', serif; margin-left: auto; }
        .info b { font-size: 16px; }
        .info small { color: #888; }

        /* –ö–Ω–æ–ø–∫–∏ –ê—É–¥–∏–æ */
        @keyframes pulse-playing {
            0% { box-shadow: 0 0 0 0 rgba(178, 144, 79, 0.6); }
            70% { box-shadow: 0 0 0 10px rgba(178, 144, 79, 0); }
            100% { box-shadow: 0 0 0 0 rgba(178, 144, 79, 0); }
        }
        .audio-btn { 
            margin-top: 15px; background: var(--gold); color: white; border: none; 
            padding: 10px 22px; border-radius: 25px; font-weight: bold; 
            cursor: pointer; transition: 0.3s; font-size: 13px;
            display: inline-flex; align-items: center; gap: 8px;
        }
        .audio-btn.playing { animation: pulse-playing 1.5s infinite; background: #d4af37; }

        /* GPS */
        .gps-btn { 
            width: 100%; padding: 16px; border-radius: 15px; border: none; 
            background: linear-gradient(45deg, #b2904f, #d4af37); color: white; 
            font-weight: bold; cursor: pointer; font-size: 14px;
        }
        .prayer-card { background: var(--header); border-radius: 20px; padding: 25px; border: 1px solid var(--line); text-align: center; }
        .prayer-row { display: flex; justify-content: space-between; padding: 14px 0; border-bottom: 1px solid var(--line); font-weight: 600; }

        /* –û–∫–Ω–æ —Å—É—Ä—ã */
        .window { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 2000; overflow-y: auto; }
        .window-header { position: sticky; top: 0; background: var(--header); height: 60px; display: flex; align-items: center; padding: 0 15px; border-bottom: 1px solid var(--line); }
        .close-btn { font-size: 24px; color: var(--gold); border: none; background: none; }
        .ayah-box { padding: 25px 20px; border-bottom: 1px solid var(--line); }
        .ar-text { direction: rtl; font-family: 'Amiri', serif; font-size: var(--fz-ar); line-height: 2.1; text-align: right; }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav { position: fixed; bottom: 0; width: 100%; height: 70px; background: var(--header); display: flex; border-top: 1px solid var(--line); z-index: 1500; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 11px; color: #888; cursor: pointer; }
        .nav-item.active { color: var(--gold); font-weight: bold; }
    </style>
</head>
<body class="dark-mode">

<div id="splash">
    <div class="bism-text">ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸëŸéŸáŸê ÿßŸÑÿ±ŸëŸéÿ≠ŸíŸÖŸéŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸê</div>
    <div style="margin-top:10px; font-size: 10px; letter-spacing: 3px; color: #555;">AL-QUR'AN PRO</div>
</div>

<header class="main-header">
    <div style="display:flex; justify-content: space-between; align-items: center;">
        <h1 id="pageTitle">Al Quran</h1>
        <span style="font-weight: bold; color: var(--gold); font-size: 12px; border: 1px solid var(--gold); padding: 2px 5px; border-radius: 5px;">RU</span>
    </div>
    <input type="text" id="surahSearch" placeholder="–ü–æ–∏—Å–∫ —Å—É—Ä—ã..." onkeyup="filterContent()">
</header>

<div id="quranSec" class="page-sec active"><div id="surahList"></div></div>
<div id="namesSec" class="page-sec"><div id="namesList"></div></div>
<div id="prayerSec" class="page-sec">
    <div class="prayer-card">
        <button class="gps-btn" id="gpsBtn" onclick="getGPS()">üìç –û–ü–†–ï–î–ï–õ–ò–¢–¨ –í–†–ï–ú–Ø –ù–ê–ú–ê–ó–ê</button>
        <div id="cityName" style="font-size: 12px; opacity: 0.6; margin: 15px 0;">–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ GPS</div>
        <div id="hijriDate" style="color: var(--gold); font-weight: bold; margin-bottom: 15px;"></div>
        <div id="prayerContent"></div>
    </div>
</div>
<div id="settingsSec" class="page-sec">
    <div class="prayer-card" style="text-align: left;">
        <h3 style="color:var(--gold); margin:0 0 15px 0;">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
        <div style="display:flex; justify-content: space-between; margin-bottom: 20px;">
            <span>–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</span>
            <input type="checkbox" checked onchange="document.body.classList.toggle('dark-mode')">
        </div>
        <span>–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞:</span>
        <input type="range" min="24" max="50" value="32" style="width:100%; margin-top:10px; accent-color: var(--gold);" oninput="document.documentElement.style.setProperty('--fz-ar', this.value + 'px')">
    </div>
</div>

<div id="surahWin" class="window">
    <div class="window-header"><button class="close-btn" onclick="closeSurah()">‚úï</button><h2 id="winTitle" style="flex:1; text-align:center; font-size:16px;"></h2></div>
    <div id="winContent"></div>
</div>

<nav class="nav">
    <div class="nav-item active" onclick="showPage('quran', this, '–ö–æ—Ä–∞–Ω')"><span>üìñ</span>–ö–æ—Ä–∞–Ω</div>
    <div class="nav-item" onclick="showPage('names', this, '99 –ò–º–µ–Ω')"><span>‚ú®</span>–ò–º–µ–Ω–∞</div>
    <div class="nav-item" onclick="showPage('prayer', this, '–ù–∞–º–∞–∑')"><span>üïå</span>–ù–∞–º–∞–∑</div>
    <div class="nav-item" onclick="showPage('settings', this, '–û–ø—Ü–∏–∏')"><span>‚öôÔ∏è</span>–û–ø—Ü–∏–∏</div>
</nav>

<script>
let allSurahs = [];
let currentPage = 'quran';
const audio = new Audio();
let currentBtn = null;

const namesOfAllah = [
    {ar:"ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸÜŸè", tr:"Ar-Rahman", ru:"–ú–∏–ª–æ—Å—Ç–∏–≤—ã–π"}, {ar:"ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸè", tr:"Ar-Rahim", ru:"–ú–∏–ª–æ—Å–µ—Ä–¥–Ω—ã–π"},
    {ar:"ÿßŸÑŸíŸÖŸéŸÑŸêŸÉŸè", tr:"Al-Malik", ru:"–¶–∞—Ä—å"}, {ar:"ÿßŸÑŸíŸÇŸèÿØŸèŸëŸàÿ≥Ÿè", tr:"Al-Quddus", ru:"–°–≤—è—Ç–æ–π"},
    {ar:"ÿßŸÑÿ≥ŸéŸëŸÑŸéÿßŸÖŸè", tr:"As-Salam", ru:"–ü—Ä–µ—á–∏—Å—Ç—ã–π"}, {ar:"ÿßŸÑŸíŸÖŸèÿ§ŸíŸÖŸêŸÜŸè", tr:"Al-Mu'min", ru:"–û–±–µ—Ä–µ–≥–∞—é—â–∏–π"},
    {ar:"ÿßŸÑŸíŸÖŸèŸáŸéŸäŸíŸÖŸêŸÜŸè", tr:"Al-Muhaymin", ru:"–ü–æ–ø–µ—á–∏—Ç–µ–ª—å"}, {ar:"ÿßŸÑŸíÿπŸéÿ≤ŸêŸäÿ≤Ÿè", tr:"Al-Aziz", ru:"–ú–æ–≥—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π"},
    {ar:"ÿßŸÑŸíÿ¨Ÿéÿ®ŸéŸëÿßÿ±Ÿè", tr:"Al-Jabbar", ru:"–ü–æ–¥—á–∏–Ω—è—é—â–∏–π"}, {ar:"ÿßŸÑŸíŸÖŸèÿ™ŸéŸÉŸéÿ®ŸêŸëÿ±Ÿè", tr:"Al-Mutakabbir", ru:"–ü—Ä–µ–≤–æ—Å—Ö–æ–¥—è—â–∏–π"},
    {ar:"ÿßŸÑŸíÿÆŸéÿßŸÑŸêŸÇŸè", tr:"Al-Khaliq", ru:"–¢–≤–æ—Ä–µ—Ü"}, {ar:"ÿßŸÑŸíÿ®Ÿéÿßÿ±Ÿêÿ¶Ÿè", tr:"Al-Bari", ru:"–°–æ–∑–¥–∞—Ç–µ–ª—å"},
    {ar:"ÿßŸÑŸíŸÖŸèÿµŸéŸàŸêŸëÿ±Ÿè", tr:"Al-Musawwir", ru:"–ü—Ä–∏–¥–∞—é—â–∏–π –æ–±–ª–∏–∫"}, {ar:"ÿßŸÑŸíÿ∫ŸéŸÅŸéŸëÿßÿ±Ÿè", tr:"Al-Ghaffar", ru:"–ü—Ä–æ—â–∞—é—â–∏–π"},
    {ar:"ÿßŸÑŸíŸÇŸéŸáŸéŸëÿßÿ±Ÿè", tr:"Al-Qahhar", ru:"–ì–æ—Å–ø–æ–¥—Å—Ç–≤—É—é—â–∏–π"}, {ar:"ÿßŸÑŸíŸàŸéŸáŸéŸëÿßÿ®Ÿè", tr:"Al-Wahhab", ru:"–î–∞—Ä—É—é—â–∏–π"},
    {ar:"ÿßŸÑÿ±ŸéŸëÿ≤ŸéŸëÿßŸÇŸè", tr:"Ar-Razzaq", ru:"–ù–∞–¥–µ–ª—è—é—â–∏–π"}, {ar:"ÿßŸÑŸíŸÅŸéÿ™ŸéŸëÿßÿ≠Ÿè", tr:"Al-Fattah", ru:"–†–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π"},
    {ar:"ÿßŸÑŸíÿπŸéŸÑŸêŸäŸÖŸè", tr:"Al-Alim", ru:"–í—Å–µ–∑–Ω–∞—é—â–∏–π"}, {ar:"ÿßŸÑŸíŸÇŸéÿßÿ®Ÿêÿ∂Ÿè", tr:"Al-Qabid", ru:"–°–∂–∏–º–∞—é—â–∏–π"},
    {ar:"ÿßŸÑŸíÿ®Ÿéÿßÿ≥Ÿêÿ∑Ÿè", tr:"Al-Basit", ru:"–†–∞—Å—à–∏—Ä—è—é—â–∏–π"}, {ar:"ÿßŸÑŸíÿÆŸéÿßŸÅŸêÿ∂Ÿè", tr:"Al-Khafid", ru:"–£–Ω–∏–∂–∞—é—â–∏–π"},
    {ar:"ÿßŸÑÿ±ŸéŸëÿßŸÅŸêÿπŸè", tr:"Ar-Rafi", ru:"–í–æ–∑–≤—ã—à–∞—é—â–∏–π"}, {ar:"ÿßŸÑŸíŸÖŸèÿπŸêÿ≤ŸèŸë", tr:"Al-Mu'izz", ru:"–î–∞—é—â–∏–π —Å–∏–ª—É"},
    {ar:"ÿßŸÑŸíŸÖŸèÿ∞ŸêŸÑŸèŸë", tr:"Al-Mudhill", ru:"–õ–∏—à–∞—é—â–∏–π —Å–∏–ª—ã"}, {ar:"ÿßŸÑÿ≥ŸéŸëŸÖŸêŸäÿπŸè", tr:"As-Sami", ru:"–í—Å–µ—Å–ª—ã—à–∞—â–∏–π"},
    {ar:"ÿßŸÑŸíÿ®ŸéÿµŸêŸäÿ±Ÿè", tr:"Al-Basir", ru:"–í—Å–µ–≤–∏–¥—è—â–∏–π"}, {ar:"ÿßŸÑŸíÿ≠ŸéŸÉŸéŸÖŸè", tr:"Al-Hakam", ru:"–°—É–¥—å—è"},
    {ar:"ÿßŸÑŸíÿπŸéÿØŸíŸÑŸè", tr:"Al-Adl", ru:"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–π"}, {ar:"ÿßŸÑŸÑŸéŸëÿ∑ŸêŸäŸÅŸè", tr:"Al-Latif", ru:"–î–æ–±—Ä—ã–π"},
    {ar:"ÿßŸÑŸíÿÆŸéÿ®ŸêŸäÿ±Ÿè", tr:"Al-Khabir", ru:"–û—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω—ã–π"}, {ar:"ÿßŸÑŸíÿ≠ŸéŸÑŸêŸäŸÖŸè", tr:"Al-Halim", ru:"–°–Ω–∏—Å—Ö–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π"},
    {ar:"ÿßŸÑŸíÿπŸéÿ∏ŸêŸäŸÖŸè", tr:"Al-Azim", ru:"–í–µ–ª–∏—á–∞–π—à–∏–π"}, {ar:"ÿßŸÑŸíÿ∫ŸéŸÅŸèŸàÿ±Ÿè", tr:"Al-Ghafur", ru:"–ú–Ω–æ–≥–æ–ø—Ä–æ—â–∞—é—â–∏–π"},
    {ar:"ÿßŸÑÿ¥ŸéŸëŸÉŸèŸàÿ±Ÿè", tr:"Ash-Shakur", ru:"–ë–ª–∞–≥–æ–¥–∞—Ä–Ω—ã–π"}, {ar:"ÿßŸÑŸíÿπŸéŸÑŸêŸäŸèŸë", tr:"Al-Aliy", ru:"–í—ã—Å–æ—á–∞–π—à–∏–π"},
    {ar:"ÿßŸÑŸíŸÉŸéÿ®ŸêŸäÿ±Ÿè", tr:"Al-Kabir", ru:"–í–µ–ª–∏–∫–∏–π"}, {ar:"ÿßŸÑŸíÿ≠ŸéŸÅŸêŸäÿ∏Ÿè", tr:"Al-Hafiz", ru:"–•—Ä–∞–Ω–∏—Ç–µ–ª—å"},
    {ar:"ÿßŸÑŸíŸÖŸèŸÇŸêŸäÿ™Ÿè", tr:"Al-Muqit", ru:"–û–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π"}, {ar:"ÿßŸÑŸíÿ≠Ÿéÿ≥ŸêŸäÿ®Ÿè", tr:"Al-Hasib", ru:"–°—á–∏—Ç–∞—é—â–∏–π"},
    {ar:"ÿßŸÑŸíÿ¨ŸéŸÑŸêŸäŸÑŸè", tr:"Al-Jalil", ru:"–í–µ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π"}, {ar:"ÿßŸÑŸíŸÉŸéÿ±ŸêŸäŸÖŸè", tr:"Al-Karim", ru:"–©–µ–¥—Ä—ã–π"},
    {ar:"ÿßŸÑÿ±ŸéŸëŸÇŸêŸäÿ®Ÿè", tr:"Ar-Raqib", ru:"–°–ª–µ–¥—è—â–∏–π"}, {ar:"ÿßŸÑŸíŸÖŸèÿ¨ŸêŸäÿ®Ÿè", tr:"Al-Mujib", ru:"–û—Ç–∑—ã–≤–∞—é—â–∏–π—Å—è"},
    {ar:"ÿßŸÑŸíŸàŸéÿßÿ≥ŸêÿπŸè", tr:"Al-Wasi", ru:"–í—Å–µ–æ–±—ä–µ–º–ª—é—â–∏–π"}, {ar:"ÿßŸÑŸíÿ≠ŸéŸÉŸêŸäŸÖŸè", tr:"Al-Hakim", ru:"–ú—É–¥—Ä—ã–π"},
    {ar:"ÿßŸÑŸíŸàŸéÿØŸèŸàÿØŸè", tr:"Al-Wadud", ru:"–õ—é–±—è—â–∏–π"}, {ar:"ÿßŸÑŸíŸÖŸéÿ¨ŸêŸäÿØŸè", tr:"Al-Majid", ru:"–°–ª–∞–≤–Ω—ã–π"},
    {ar:"ÿßŸÑŸíÿ®ŸéÿßÿπŸêÿ´Ÿè", tr:"Al-Ba'ith", ru:"–í–æ—Å–∫—Ä–µ—à–∞—é—â–∏–π"}, {ar:"ÿßŸÑÿ¥ŸéŸëŸáŸêŸäÿØŸè", tr:"Ash-Shahid", ru:"–°–≤–∏–¥–µ—Ç–µ–ª—å"},
    {ar:"ÿßŸÑŸíÿ≠ŸéŸÇŸèŸë", tr:"Al-Haqq", ru:"–ò—Å—Ç–∏–Ω–Ω—ã–π"}, {ar:"ÿßŸÑŸíŸàŸéŸÉŸêŸäŸÑŸè", tr:"Al-Wakil", ru:"–ü–æ–ø–µ—á–∏—Ç–µ–ª—å"},
    {ar:"ÿßŸÑŸíŸÇŸéŸàŸêŸäŸèŸë", tr:"Al-Qawiyy", ru:"–°–∏–ª—å–Ω–µ–π—à–∏–π"}, {ar:"ÿßŸÑŸíŸÖŸéÿ™ŸêŸäŸÜŸè", tr:"Al-Matin", ru:"–ù–µ–ø–æ–∫–æ–ª–µ–±–∏–º—ã–π"},
    {ar:"ÿßŸÑŸíŸàŸéŸÑŸêŸäŸèŸë", tr:"Al-Waliyy", ru:"–î—Ä—É–≥"}, {ar:"ÿßŸÑŸíÿ≠ŸéŸÖŸêŸäÿØŸè", tr:"Al-Hamid", ru:"–î–æ—Å—Ç–æ—Å–ª–∞–≤–Ω—ã–π"},
    {ar:"ÿßŸÑŸíŸÖŸèÿ≠ŸíÿµŸêŸä", tr:"Al-Muhsi", ru:"–°—á–∏—Ç–∞—é—â–∏–π"}, {ar:"ÿßŸÑŸíŸÖŸèÿ®ŸíÿØŸêÿ¶Ÿè", tr:"Al-Mubdi", ru:"–ù–∞—á–∏–Ω–∞—é—â–∏–π"},
    {ar:"ÿßŸÑŸíŸÖŸèÿπŸêŸäÿØŸè", tr:"Al-Mu'id", ru:"–í–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π"}, {ar:"ÿßŸÑŸíŸÖŸèÿ≠ŸíŸäŸêŸä", tr:"Al-Muhyi", ru:"–û–∂–∏–≤–ª—è—é—â–∏–π"},
    {ar:"ÿßŸÑŸíŸÖŸèŸÖŸêŸäÿ™Ÿè", tr:"Al-Mumit", ru:"–£–º–µ—Ä—â–≤–ª—è—é—â–∏–π"}, {ar:"ÿßŸÑŸíÿ≠ŸéŸäŸèŸë", tr:"Al-Hayy", ru:"–ñ–∏–≤–æ–π"},
    {ar:"ÿßŸÑŸíŸÇŸéŸäŸèŸëŸàŸÖŸè", tr:"Al-Qayyum", ru:"–°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π"}, {ar:"ÿßŸÑŸíŸàŸéÿßÿ¨ŸêÿØŸè", tr:"Al-Wajid", ru:"–ù–∞—Ö–æ–¥—è—â–∏–π"},
    {ar:"ÿßŸÑŸíŸÖŸéÿßÿ¨ŸêÿØŸè", tr:"Al-Majid", ru:"–ë–ª–∞–≥–æ—Ä–æ–¥–Ω—ã–π"}, {ar:"ÿßŸÑŸíŸàŸéÿßÿ≠ŸêÿØŸè", tr:"Al-Wahid", ru:"–ï–¥–∏–Ω—ã–π"},
    {ar:"ÿßŸÑÿ£Ÿéÿ≠ŸéÿØŸè", tr:"Al-Ahad", ru:"–û–¥–∏–Ω"}, {ar:"ÿßŸÑÿµŸéŸëŸÖŸéÿØŸè", tr:"As-Samad", ru:"–í–µ—á–Ω—ã–π"},
    {ar:"ÿßŸÑŸíŸÇŸéÿßÿØŸêÿ±Ÿè", tr:"Al-Qadir", ru:"–í—Å–µ–º–æ–≥—É—â–∏–π"}, {ar:"ÿßŸÑŸíŸÖŸèŸÇŸíÿ™ŸéÿØŸêÿ±Ÿè", tr:"Al-Muqtadir", ru:"–í—Å–µ—Å–∏–ª—å–Ω—ã–π"},
    {ar:"ÿßŸÑŸíŸÖŸèŸÇŸéÿØŸêŸëŸÖŸè", tr:"Al-Muqaddim", ru:"–í—ã–¥–≤–∏–≥–∞—é—â–∏–π"}, {ar:"ÿßŸÑŸíŸÖŸèÿ§ŸéÿÆŸêŸëÿ±Ÿè", tr:"Al-Mu'akhkhir", ru:"–û—Ç–æ–¥–≤–∏–≥–∞—é—â–∏–π"},
    {ar:"ÿßŸÑÿ£ŸéŸàŸéŸëŸÑŸè", tr:"Al-Awwal", ru:"–ü–µ—Ä–≤—ã–π"}, {ar:"ÿßŸÑÿ¢ÿÆŸêÿ±Ÿè", tr:"Al-Akhir", ru:"–ü–æ—Å–ª–µ–¥–Ω–∏–π"},
    {ar:"ÿßŸÑÿ∏ŸéŸëÿßŸáŸêÿ±Ÿè", tr:"Az-Zahir", ru:"–Ø–≤–Ω—ã–π"}, {ar:"ÿßŸÑŸíÿ®Ÿéÿßÿ∑ŸêŸÜŸè", tr:"Al-Batin", ru:"–°–∫—Ä—ã—Ç—ã–π"},
    {ar:"ÿßŸÑŸíŸàŸéÿßŸÑŸêŸä", tr:"Al-Wali", ru:"–ü—Ä–∞–≤—è—â–∏–π"}, {ar:"ÿßŸÑŸíŸÖŸèÿ™ŸéÿπŸéÿßŸÑŸêŸä", tr:"Al-Muta'ali", ru:"–í—ã—Å–æ—á–∞–π—à–∏–π"},
    {ar:"ÿßŸÑŸíÿ®Ÿéÿ±ŸèŸë", tr:"Al-Barr", ru:"–î–æ–±—Ä–æ–¥–µ—Ç–µ–ª—å–Ω—ã–π"}, {ar:"ÿßŸÑÿ™ŸéŸëŸàŸéŸëÿßÿ®Ÿè", tr:"At-Tawwab", ru:"–ü—Ä–∏–Ω–∏–º–∞—é—â–∏–π –ø–æ–∫–∞—è–Ω–∏–µ"},
    {ar:"ÿßŸÑŸíŸÖŸèŸÜŸíÿ™ŸéŸÇŸêŸÖŸè", tr:"Al-Muntaqim", ru:"–ú—Å—Ç—è—â–∏–π"}, {ar:"ÿßŸÑŸíÿπŸéŸÅŸèŸàŸèŸë", tr:"Al-Afuww", ru:"–ü—Ä–æ—â–∞—é—â–∏–π"},
    {ar:"ÿßŸÑÿ±ŸéŸëÿ°ŸèŸàŸÅŸè", tr:"Ar-Ra'uf", ru:"–°–æ—Å—Ç—Ä–∞–¥–∞—Ç–µ–ª—å–Ω—ã–π"}, {ar:"ŸÖŸéÿßŸÑŸêŸÉŸè ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸê", tr:"Malik-ul-Mulk", ru:"–¶–∞—Ä—å –¶–∞—Ä—Å—Ç–≤"},
    {ar:"ÿ∞ŸèŸà ÿßŸÑŸíÿ¨ŸéŸÑŸéÿßŸÑŸê ŸàŸéÿßŸÑÿ•ŸêŸÉŸíÿ±ŸéÿßŸÖŸê", tr:"Dhul-Jalali wal-Ikram", ru:"–û–±–ª–∞–¥–∞—Ç–µ–ª—å –í–µ–ª–∏—á–∏—è"},
    {ar:"ÿßŸÑŸíŸÖŸèŸÇŸíÿ≥Ÿêÿ∑Ÿè", tr:"Al-Muqsit", ru:"–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–π"}, {ar:"ÿßŸÑŸíÿ¨ŸéÿßŸÖŸêÿπŸè", tr:"Al-Jami", ru:"–°–æ–±–∏—Ä–∞—é—â–∏–π"},
    {ar:"ÿßŸÑŸíÿ∫ŸéŸÜŸêŸäŸèŸë", tr:"Al-Ghaniyy", ru:"–ë–æ–≥–∞—Ç—ã–π"}, {ar:"ÿßŸÑŸíŸÖŸèÿ∫ŸíŸÜŸêŸä", tr:"Al-Mughni", ru:"–û–±–æ–≥–∞—â–∞—é—â–∏–π"},
    {ar:"ÿßŸÑŸíŸÖŸéÿßŸÜŸêÿπŸè", tr:"Al-Mani", ru:"–£–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π"}, {ar:"ÿßŸÑÿ∂ŸéŸëÿßÿ±ŸèŸë", tr:"Ad-Darr", ru:"–õ–∏—à–∞—é—â–∏–π"},
    {ar:"ÿßŸÑŸÜŸéŸëÿßŸÅŸêÿπŸè", tr:"An-Nafi", ru:"–ë–ª–∞–≥–æ—Ç–≤–æ—Ä—è—â–∏–π"}, {ar:"ÿßŸÑŸÜŸèŸëŸàÿ±Ÿè", tr:"An-Nur", ru:"–°–≤–µ—Ç"},
    {ar:"ÿßŸÑŸíŸáŸéÿßÿØŸêŸä", tr:"Al-Hadi", ru:"–í–µ–¥—É—â–∏–π –≤–µ—Ä–Ω—ã–º –ø—É—Ç–µ–º"}, {ar:"ÿßŸÑŸíÿ®ŸéÿØŸêŸäÿπŸè", tr:"Al-Badi", ru:"–ò–∑–æ–±—Ä–µ—Ç–∞—é—â–∏–π"},
    {ar:"ÿßŸÑŸíÿ®ŸéÿßŸÇŸêŸä", tr:"Al-Baqi", ru:"–í–µ—á–Ω—ã–π"}, {ar:"ÿßŸÑŸíŸàŸéÿßÿ±Ÿêÿ´Ÿè", tr:"Al-Warith", ru:"–ù–∞—Å–ª–µ–¥—É—é—â–∏–π"},
    {ar:"ÿßŸÑÿ±ŸéŸëÿ¥ŸêŸäÿØŸè", tr:"Ar-Rashid", ru:"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π"}, {ar:"ÿßŸÑÿµŸéŸëÿ®ŸèŸàÿ±Ÿè", tr:"As-Sabur", ru:"–¢–µ—Ä–ø–µ–ª–∏–≤—ã–π"}
];

function showPage(p, el, title) {
    currentPage = p;
    document.querySelectorAll('.page-sec, .nav-item').forEach(x => x.classList.remove('active'));
    document.getElementById(p + 'Sec').classList.add('active');
    el.classList.add('active');
    document.getElementById('pageTitle').innerText = title;
    document.getElementById('surahSearch').style.display = (p === 'quran' || p === 'names') ? 'block' : 'none';
    document.getElementById('surahSearch').placeholder = (p === 'names') ? "–ü–æ–∏—Å–∫ –∏–º–µ–Ω–∏..." : "–ü–æ–∏—Å–∫ —Å—É—Ä—ã...";
}

async function init() {
    setTimeout(() => { 
        document.getElementById('splash').style.opacity = '0'; 
        setTimeout(() => document.getElementById('splash').remove(), 1000); 
    }, 2000);
    const res = await fetch("https://api.alquran.cloud/v1/surah");
    const data = await res.json();
    allSurahs = data.data;
    renderSurahs(allSurahs);
    renderNames(namesOfAllah);
}

function renderSurahs(list) {
    document.getElementById('surahList').innerHTML = list.map(s => `
        <div class="item" onclick="openSurah(${s.number}, '${s.englishName}')">
            <div class="num">${s.number}</div>
            <div class="info"><b>${s.englishName}</b></div>
            <div class="ar-name">${s.name}</div>
        </div>`).join('');
}

function renderNames(list) {
    document.getElementById('namesList').innerHTML = list.map((n, i) => `
        <div class="item">
            <div class="num">${i+1}</div>
            <div class="info"><b>${n.tr}</b><br><small>${n.ru}</small></div>
            <div class="ar-name" style="font-size:22px;">${n.ar}</div>
        </div>`).join('');
}

function filterContent() {
    const q = document.getElementById('surahSearch').value.toLowerCase();
    if (currentPage === 'quran') {
        renderSurahs(allSurahs.filter(s => s.englishName.toLowerCase().includes(q) || s.number == q));
    } else if (currentPage === 'names') {
        renderNames(namesOfAllah.filter(n => n.tr.toLowerCase().includes(q) || n.ru.toLowerCase().includes(q)));
    }
}

async function openSurah(id, name) {
    document.getElementById('surahWin').style.display = 'block';
    document.getElementById('winTitle').innerText = name;
    document.getElementById('winContent').innerHTML = "<p style='text-align:center; padding:50px;'>–ó–∞–≥—Ä—É–∑–∫–∞...</p>";
    const res = await fetch(`https://api.alquran.cloud/v1/surah/${id}/editions/quran-uthmani,ru.kuliev`);
    const d = await res.json();
    document.getElementById('winContent').innerHTML = d.data[0].ayahs.map((a, i) => `
        <div class="ayah-box">
            <div class="ar-text">${a.text}</div>
            <div style="margin:15px 0; opacity:0.8;"><b>${i+1}.</b> ${d.data[1].ayahs[i].text}</div>
            <button class="audio-btn" onclick="playAudio(${a.number}, this)">
                <span class="icon">‚ñ∂</span> <span class="txt">–°–ª—É—à–∞—Ç—å —á—Ç–µ–Ω–∏–µ</span>
            </button>
        </div>`).join('');
}

function playAudio(num, btn) {
    if (currentBtn === btn && !audio.paused) {
        audio.pause(); resetBtn(btn); return;
    }
    if (currentBtn) resetBtn(currentBtn);
    currentBtn = btn;
    btn.classList.add('playing');
    btn.querySelector('.icon').innerText = "üîä";
    btn.querySelector('.txt').innerText = "–ò–≥—Ä–∞–µ—Ç...";
    audio.src = `https://cdn.islamic.network/quran/audio/128/ar.alafasy/${num}.mp3`;
    audio.play();
    audio.onended = () => resetBtn(btn);
}

function resetBtn(btn) {
    btn.classList.remove('playing');
    btn.querySelector('.icon').innerText = "‚ñ∂";
    btn.querySelector('.txt').innerText = "–°–ª—É—à–∞—Ç—å —á—Ç–µ–Ω–∏–µ";
    currentBtn = null;
}

function closeSurah() {
    document.getElementById('surahWin').style.display = 'none';
    audio.pause();
    if (currentBtn) resetBtn(currentBtn);
}

function getGPS() {
    const btn = document.getElementById('gpsBtn');
    btn.classList.add('loading');
    btn.innerText = "üîç –ü–û–ò–°–ö...";
    navigator.geolocation.getCurrentPosition(async (pos) => {
        btn.style.display = "none";
        const res = await fetch(`https://api.aladhan.com/v1/timings?latitude=${pos.coords.latitude}&longitude=${pos.coords.longitude}&method=3`);
        const d = await res.json();
        const t = d.data.timings;
        const n = { Fajr: "–§–∞–¥–∂—Ä", Sunrise: "–í–æ—Å—Ö–æ–¥", Dhuhr: "–ó—É—Ö—Ä", Asr: "–ê—Å—Ä", Maghrib: "–ú–∞–≥—Ä–∏–±", Isha: "–ò—à–∞" };
        document.getElementById('cityName').innerText = "–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ";
        document.getElementById('hijriDate').innerText = `${d.data.date.hijri.day} ${d.data.date.hijri.month.en} ${d.data.date.hijri.year}`;
        document.getElementById('prayerContent').innerHTML = Object.keys(n).map(k => `
            <div class="prayer-row"><span>${n[k]}</span><span style="color:var(--gold)">${t[k]}</span></div>
        `).join('');
    }, () => { btn.classList.remove('loading'); btn.innerText = "üìç –û–®–ò–ë–ö–ê GPS"; });
}

init();
</script>
</body>
</html>

